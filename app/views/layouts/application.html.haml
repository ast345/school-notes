!!!
%html
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %title School
    = csrf_meta_tags
    = csp_meta_tag
    = javascript_pack_tag 'application', 'data-turbolinks-track': 'reload'
    = include_gon

    %link{:href => "https://fonts.googleapis.com", :rel => "preconnect"}/
    %link{:crossorigin => "", :href => "https://fonts.gstatic.com", :rel => "preconnect"}/
    %link{:href => "https://fonts.googleapis.com/css2?family=BIZ+UDGothic&family=BIZ+UDPGothic&display=swap", :rel => "stylesheet"}/

    %link{:href => "https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css", :rel => "stylesheet"}/
    %script{:crossorigin => "anonymous", :src => "https://kit.fontawesome.com/7d75e66a0b.js"}
    = stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload'
    = stylesheet_link_tag 'responsible', media: 'all', 'data-turbolinks-track': 'reload'
    
  %body
    .page_container
      - if @header_hidden
      - else
        %header.header
          .header_logos
            %h1 School Notes
          .header_flash
            - if flash.present?
              .flash
                - flash.each do |key, value|
                  %div{:class => key}= value
          - if user_signed_in?
            .header_user_display
              %p #{@display_name}さん
            .header_user_classes
              - @current_user_classes.each_with_index do |current_user_class, index|
                .header_user_class
                  = link_to current_user_class[:class_name], school_class_path(current_user_class[:school_class_id]), method: :get, class: "school_class_link"
                  .school_class_setting_btn_box
                    %i.fa-solid.fa-ellipsis.school_class_setting_btn{id: "edit_btn#{index}"}
                  .school_class_edit_menu.hidden{id: "edit#{index}"}
                    = link_to "編集", edit_school_class_path(current_user_class[:school_class_id]), method: :get, class: "school_class_edit_btn"
                    = link_to "削除", school_class_path(current_user_class[:school_class_id]), method: :delete, data: { confirm: raw('本当にこのクラスを削除しますか？（一度削除すると復元できません）') }, class: "school_class_edit_btn"
                %hr
              .header_new_class
                = link_to "+ 新規クラス作成", new_school_class_path,method: :get, class: "header_new_class_link"
          .header_bottom
            = link_to "ご意見箱", opinions_path, class: "header_link"
            - if user_signed_in?
              = link_to "ログアウト", destroy_user_session_path, method: :delete, class: "header_link"
        %header.resp_header.hidden
          %i.fa-solid.fa-bars.menu-btn
          .header_logos
            %h1 School Notes
          - if flash.present?
            .flash
              - flash.each do |key, value|
                %div{:class => key}= value
        .resp_header_overlay.hidden
          %i.fa-solid.fa-circle-xmark.close-btn
          .header_logos
            %h1 School Notes
          .header_bottom
            = link_to "ご意見箱", opinions_path, class: "header_link"
            - if user_signed_in?
              = link_to "ログアウト", destroy_user_session_path, method: :delete, class: "header_link"
      .cover.hidden
      = yield
